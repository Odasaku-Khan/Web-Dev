<div class="profile-container-with-sidebar">
  <aside class="sidebar" [class.closed]="!sidebarOpen">
    <h3>Messages</h3>
    <button class="toggle-btn" (click)="toggleSidebar()">
      {{ sidebarOpen ? 'Close' : 'Open' }}
    </button>
    <ul class="conversation-list">
      <li *ngFor="let convo of conversations" (click)="openChat(convo.id)" class="conversation-item">
        {{ convo.full_name }}
      </li>
      <li *ngIf="conversations.length === 0">No conversations yet</li>
    </ul>
  </aside>

  <main class="profile-content">
    <!-- Your existing profile HTML here -->
    <h2>My Profile</h2>
    <div class="card">
      <img [src]="profileImage || '/default-avatar.png'" alt="Profile Photo" class="profile-image" />
      <div class="profile-info">
        <p><strong>Full Name:</strong> {{ full_name }}</p>
        <p><strong>Email:</strong> {{ email }}</p>
        <p><strong>Bio:</strong> {{ bio || 'No bio available.' }}</p>
      </div>
      <div class="stats">
        <div class="stat-card">
          <p class="stat-number">{{ skillCount }}</p>
          <p class="stat-label">Skills</p>
        </div>
        <button [routerLink]="['/dashboard/chat', profileId]" class="message-btn">
          Message Me
        </button>
        <div class="stat-card">
          <p class="stat-number">{{ messageCount }}</p>
          <p class="stat-label">Messages</p>
          <div class="profile-info">
            <p><strong>Phone:</strong> {{ phone_number }}</p>
            <p><strong>Birthday:</strong> {{ birthday | date }}</p>
            <p><strong>Status:</strong> {{ status }}</p>
          </div>
        </div>
      </div>
    </div>
  </main>
</div>